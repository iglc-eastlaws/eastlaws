@{
    Layout = "~/Views/Shared/_LayoutInner.cshtml";
    ViewBag.Title = "أحكام المحاكم العربية العليا ";
 }

<div class="title-module">
    <h1><span class="main-title">منظومة أحكام المحاكم العربية</span></h1>
    <p>أنتجت إدارة قوانين الشرق منظومة أحكام المحاكم العربية العليا بعد أن قامت بتحليل اتجاهات الأحكام ،</p>
</div>
<hr class="spacer" />
@Html.Partial("_ManzomatLinks")

<div class="main" ng-app="ahkamApp">
    <div class="col-lg-12" ng-controller="ahkamCtrl">
        <!-- Nav tabs -->
        <div class="card">
            <ul class="nav nav-tabs" role="tablist">
                <li role="presentation" class="active"><a href="#home" aria-controls="home" role="tab" data-toggle="tab"> بحث عام</a></li>
                <li role="presentation"><a href="#profile" aria-controls="profile" role="tab" data-toggle="tab">بحث متقدم</a></li>
                <li role="presentation"><a href="#messages" aria-controls="messages" role="tab" data-toggle="tab">بحث متخصص</a></li>
                <li role="presentation"><a href="#mada" aria-controls="mada" role="tab" data-toggle="tab">بحث بتطبيقات المادة</a></li>
            </ul>

            <!-- Tab panes -->
            <div class="tab-content">

                <div role="tabpanel" class="tab-pane active" id="home">
                    <div class="search-form form-horizontal" ng-controller="GeneralSearchCtrl">
                        @Html.Partial("_GeneralSearch")
                      </div>
                  </div>
              
                  <div role="tabpanel" class="tab-pane" id="profile">
                    <div class="search-form form-horizontal" ng-controller="AdvancedSearchCtrl">
                        @Html.Partial("_AdvancedSearch")
                    </div>
                </div>
                <div role="tabpanel" class="tab-pane" id="messages" ng-controller="SpecialSearchCtrl">
                   <div class="search-form form-horizontal">
                            @Html.Partial("_SpecialSearch")
                    </div>
                </div>
                <div role="tabpanel" class="tab-pane" id="mada">
                    <div class="col-lg-10 col-md-12">
                        <div class="search-form form-horizontal">
                            <div class="form-group radio_buttons optional ">
                                <label class="radio_buttons  col-sm-3  "> </label>
                                <div class="col-sm-9">
                                    <span class="">
                                        <label for="user_horizontal_sex_male checkbox-inline">
                                            <input type="radio" value="" name="" id="" class="radio_buttons ">
                                            مطابق للجملة
                                        </label>
                                    </span>&nbsp;
                                    <label for="user_horizontal_sex_male checkbox-inline">
                                        <input type="radio" value="" name="" id="" class="radio_buttons ">
                                        مطابق لجميع الكلمات
                                    </label>
                                </div>
                            </div>
                            <div class="form-group   ">
                                <label for="horizontal_search" class=" col-lg-3 col-sm-3 control-label bg-color title">
                                    <!--<abbr title="required">*</abbr>-->
                                    نص التشريع  :
                                </label>
                                <div class="col-sm-9">
                                    <input type="text" placeholder="كلمة البحث" name="horizontal[search]" id="horizontal_search" class="string search  form-control">
                                    <!--     <p class="help-block">Lorem ipsum dolor sit amet</p>-->
                                </div>
                                <label class="col-lg-3 col-sm-3 control-label bg-color"></label>
                                <div class="col-sm-9">
                                    <label class="checkbox-inline">
                                        <input type="checkbox" checked="" value="option1" id="inlineCheckbox1">
                                        عنوان التشريع
                                    </label>
                                    <label class="checkbox-inline">
                                        <input type="checkbox" value="option2" id="inlineCheckbox2">
                                        نصوص المواد
                                    </label>

                                </div>
                            </div>
                            <hr class="spacer" />
                            <br />
                            <div class="form-group   ">
                                <label for="horizontal_search" class=" col-lg-3 col-md-3 col-sm-3 control-label bg-color title"> اختار الدولة :</label>
                                <div class="col-md-4 col-sm-4">
                                    <select tabindex="3" class="string search  form-control" id="ddlCountries" name="d">
                                        <option selected="selected" value="1">جمهورية مصر العربية</option>
                                        <option value="2">المملكة الأردنية الهاشمية</option>
                                        <option value="3">الجمهورية اليمنية</option>
                                        <option value="4">دولة الإمارات العربية المتحدة</option>
                                        <option value="20">إمارة أبوظبي</option>
                                        <option value="21">إمارة رأس الخيمة</option>
                                        <option value="619">إمارة عجمان</option>
                                        <option value="620">إمارة الشارقة</option>
                                        <option value="1005">إمارة الفجيرة</option>
                                        <option value="8">حكومة دبي</option>
                                        <option value="5">دولة الكويت</option>
                                        <option value="6">مملكة البحرين</option>
                                        <option value="7">دولة قطر</option>
                                        <option value="9">المملكة العربية السعودية</option>
                                        <option value="10">سلطنة عمان</option>
                                        <option value="11">دولة ليبيا</option>
                                        <option value="12">الجمهورية التونسية</option>
                                        <option value="13">المملكة المغربية</option>
                                        <option value="14">جمهورية السودان</option>
                                        <option value="15">الجمهورية العربية السورية</option>
                                        <option value="16">جمهورية العراق</option>
                                        <option value="17">دولة فلسطين</option>
                                        <option value="18">الجمهورية الجزائرية</option>
                                        <option value="19">الجمهورية اللبنانية</option>
                                        <option value="1007">إمارة أم القيوين</option>
                                    </select>
                                </div>
                                <div class="col-md-5 col-sm-5">
                                    <label for="horizontal_search" class="col-lg-5 col-md-5 col-sm-6 control-label bg-color title">   رقم التشريع :  </label>
                                    <div class="col-md-7 col-sm-6" style="padding-left:0px; padding-right:0px;">
                                        <input type="text" placeholder="" name="horizontal[search]" id="horizontal_search" class="string search  form-control">
                                    </div>
                                </div>
                            </div>
                            <hr class="spacer" />
                            <div class="form-group   ">
                                <label for="horizontal_search" class=" col-lg-3 col-md-3 col-sm-3 control-label bg-color title">  سنة التشريع  : </label>
                                <div class="col-md-4 col-sm-4">
                                    <div class="input-group " data-provide="datepicker">
                                        <input type="text" class="form-control">
                                        <div class="input-group-addon"> <span class="glyphicon glyphicon-th"></span> </div>
                                    </div>
                                </div>
                                <div class="col-md-5 col-sm-5">
                                    <label for="horizontal_search" class="col-lg-5 col-md-5 col-sm-6 control-label bg-color title"> رقم المادة  : </label>
                                    <div class="col-md-7 col-sm-6" style="padding-left:0px; padding-right:0px;">
                                        <input type="text" placeholder="" name="horizontal[search]" id="horizontal_search" class="string search  form-control">
                                    </div>
                                </div>
                            </div>
                            <hr class="spacer" />


                            <div class="form-group   ">
                                <label class="col-lg-3 col-md-3 col-sm-3 "> </label>
                                <div class="col-sm-9">
                                    <input type="submit" value="بـحـث" name="commit" class="btn butt-yellow">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-2 "></div>
                    <hr class="spacer" />
                </div>
            </div>
        </div>
        <div class="result-search">
            <p class="total-chart"> <i class="fa fa-line-chart "></i> وجد اجمالي [68] تشريع </p>
    
            <div class="col-lg-9 col-md-8  col-sm-8 list-content">
                <!-- Filter Element -->
                <div class="filter-element">
                    <ul>
                        <li id="" class="">
                            <a id="" href="javascript:;" class="">
                                النقض المدني  <span class="number">(3692)</span>
                                <i class="fa fa-close"></i>
                            </a>
                           </li>
                        <li id="" class="">
                            <a id="" href="javascript:;" class="">
                                ليس له تطبيقات أحكام <span class="number">(92)</span>
                                <i class="fa fa-close"></i>
                            </a>
                        </li>
                     </ul>

                </div>
                <hr class="spacer" />

                <div id="searchResult"></div>
                <div class="paging-search text-center" ng-controller="pagesCtrl">

                    <h1 id="pagenumber"></h1>
                    <c-pageing pages-count="46" 
                               limit-no="10" 
                               current-page="mypage" 
                               on-getpage="getmypage()">
                    </c-pageing>





                </div>

            </div>
            <div class="col-lg-3 col-md-4 col-sm-4 filter-search">
                <!--     <p class="total-chart"><i class="fa fa-server "></i> تصفية النتائج </p>-->
                <div class="">

                    <!--<div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-sidebar-navbar-collapse-1"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>-->
                    <h5><i class="fa fa-server"></i> تصفية النتائج </h5> <!--</div>-->
                    <div class="form-group">
                        <label class="col-lg-12 col-sm-12 control-label bg-color title" for="horizontal_search"> </label>
                        <div class="col-sm-12 search">
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="بحث فى عوامل التصفية">
                                <span class="input-group-btn">
                                    <button class="btn btn-success" type="button">إبحث</button>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div id="" class="filter-section">
                        <h5>بالنوع التشريعى</h5>
                        <div class="well" style="max-height: 200px;overflow: auto;">
                            <ul class="list-group checked-list-box">
                                <li class="list-group-item" data-toggle="tooltip" title="Hooray!">جمهورية مصر العربية - قرار محافظ قنا (1)</li>
                                <li class="list-group-item" data-checked="true">جمهورية مصر العربية - قرار وزير الري (1)</li>
                                <li class="list-group-item">جمهورية مصر العربية - قرار وزير الأش... (1)</li>
                                <li class="list-group-item">جمهورية مصر العربية - قرار محافظ قنا (1)</li>
                                <li class="list-group-item">جمهورية مصر العربية - قرار وزير الري (1)</li>
                                <li class="list-group-item">جمهورية مصر العربية - قرار وزير الأش... (1)</li>
                                <li class="list-group-item">جمهورية مصر العربية - قرار وزير الأش... (1)</li>
                                <li class="list-group-item">جمهورية مصر العربية - قرار محافظ قنا (1)</li>
                                <li class="list-group-item">جمهورية مصر العربية - قرار وزير الري (1)</li>
                                <li class="list-group-item">جمهورية مصر العربية - قرار وزير الأش... (1)</li>
                            </ul>
                        </div>
                    </div>
                    <div id="" class="filter-section">
                        <h5>بيان وجود تطبيقات أحكامة</h5>
                        <div class="well" style="max-height: 200px;overflow: auto;">
                            <ul class="list-group checked-list-box">
                                <li class="list-group-item">ليس له تطبيقات أحكام (60)</li>
                                <li class="list-group-item">له تطبيقات أحكام (8)</li>

                            </ul>
                        </div>
                    </div>


                </div>
            </div>

            <hr class="spacer" />
        </div>
        <hr class="spacer" />
    </div>
</div>



<script>

    (function () {
        var app = angular.module('ahkamApp', ['sharedModule']);
        app
        .controller('ahkamCtrl', function () { })
        .controller('GeneralSearchCtrl', function ($scope, $http, SearchResult) {
            $scope.search = function () {
                //$http.get('/Ahkam/SearchResult',
                //    { params: { "q": $scope.txtsearch.trim() } }).then(function (d) {
                //        console.log(d.data);
                //        $('#searchResult').html(d.data);
                //    });
                SearchResult.simpleSearch(1);
                SearchResult.searchType = 1; // set search type is simple
            };
        })
        .controller('AdvancedSearchCtrl', function () { })
        .controller('SpecialSearchCtrl', function () { })
        .controller('pagesCtrl', function ($scope, SearchResult) {

            $scope.mypage = 1;
            $scope.getmypage = function () {
                $('#pagenumber').html('current Page is : ' + $scope.mypage);
                if (SearchResult.searchType == 1) {
                    SearchResult.simpleSearch($scope.mypage);
                }
            }

            $scope.getmypage();

        });


        app.factory('SearchResult', function ($http) {
            var data = {};

            data.searchType = 1; //1 simplesearch 2 advancedserch 3 .... etc
            data.simpleSearch = function (page) {
                var txtsearch = 'القتل العمد';
                $http.get('/Ahkam/SearchResult',
                    { params: { "q": txtsearch } }).then(function (d) {
                        //console.log(d.data);
                        $('#searchResult').html(d.data);
                    });
              //  alert('get data of page ' + page + ' search ' + txtsearch);
            };

            return data;
        });

    })();

</script>
